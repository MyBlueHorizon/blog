{"title":"云上的 Minecraft 服务器 - 服务器上云记录","date":"2023-12-01T02:24:00.000Z","source":"_posts/云上的-Minecraft-服务器-服务器上云记录.md","raw":"---\ntitle: 云上的 Minecraft 服务器 - 服务器上云记录\ndate: 2023-12-01 10:24:00\ntags: [技术,Minecraft,服务器,游戏]\n---\n## 前言\n\n春去秋来，自己的 Minecraft 服务器已在不知不觉中运行了近七年。然而，服务器依然是依靠家用计算机，并无法具备全天运行的条件，且由于网络原因，必须依靠第三方应用才能使用，这就导致了不稳定性。而使用云服务器的条件也渐渐成熟，故在今年做出了将服务器迁移到云上的决定。\n\n## 服务商的选择\n\n对于几大云服务商，自己采用了阿里云。阿里云提供三个月的免费试用，且对于学生，阿里云也提供数月的免费云服务器，对于刚刚接触云服务器的自己，这显然是一个较好的选择。\n\n## 操作系统的选择\n\n在本文写作时，阿里云的免费试用已经升级为了 4C4G 的机型，在运行 Windows Server 操作系统的情况下搭建 Minecraft 服务器的性能较为充足（在 1C2G 的情况下依靠虚拟内存依旧可以勉强运行），如果对 Linux 的了解不足，此时 Windows Server 显然是好的选择。然而，在开始上云时，阿里云提供的免费试用依然为 2C2G 机型，为了确保服务器的流畅运行，只能选择 Linux 机型。\n\n出于节省内存和易于维护的综合考量，最终选择了 Alibaba Cloud OS 3.0。\n\n## 操作流程\n\n当云服务器实例创建后，先修改服务器密码，后将本地的服务器目录通过 SFTP 上传至服务端。为了方便管理，新建了新的账号来替代 root 账户运行服务器。\n\n作为 Alibaba Cloud OS，软件仓库内包含 Dragonwell JDK 便相当自然，通过 dnf 命令即可完成 JDK17 的安装。\n\nFabric 服务端安装器为我们生成了一个 start.sh 文件，为其赋予执行权限即可直接运行。\n\n此外，当服务器成功启动后，需要前往安全组打开 TCP 的 25565 和 UDP 的 19132 端口，以便可以正常从外部连接。在服务器运行的过程中，发现了一些异常的 IP 地址尝试连接，可通过安全组设置拒绝入站。\n\n最后，不要忘记打开系统的虚拟内存功能，否则内存用尽时会直接卡死，只能强制重启。\n\n从此，一个 Minecraft 就成功迁移至云上了。\n\n## 后记\n\n当本文完成时，自己的 Linux 云服务器也已经到期，服务器迁移到了 Windows Server 上。本文是基于本地已有的 Minecraft Server，因而迁移也较为简单，平日内更新服务器 Mods 也只需通过 rm -rf 和 wget 命令进行操作。对于最难的服务器配置阶段，实际上是在 Windows 设备上完成的。将前后两个服务器比较，当资源有限时，Linux 服务器是更优的选择，而服务器迁移回 Windows Server 后，从基岩端连接的体验出现了显著的下降。\n","slug":"云上的-Minecraft-服务器-服务器上云记录","published":true,"updated":"2024-03-06T13:59:07.555Z","_id":"cltfv7psl0004kzpog9032r0s","comments":true,"layout":"post","photos":[],"html":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>春去秋来，自己的 Minecraft 服务器已在不知不觉中运行了近七年。然而，服务器依然是依靠家用计算机，并无法具备全天运行的条件，且由于网络原因，必须依靠第三方应用才能使用，这就导致了不稳定性。而使用云服务器的条件也渐渐成熟，故在今年做出了将服务器迁移到云上的决定。</p>\n<h2 id=\"服务商的选择\"><a href=\"#服务商的选择\" class=\"headerlink\" title=\"服务商的选择\"></a>服务商的选择</h2><p>对于几大云服务商，自己采用了阿里云。阿里云提供三个月的免费试用，且对于学生，阿里云也提供数月的免费云服务器，对于刚刚接触云服务器的自己，这显然是一个较好的选择。</p>\n<h2 id=\"操作系统的选择\"><a href=\"#操作系统的选择\" class=\"headerlink\" title=\"操作系统的选择\"></a>操作系统的选择</h2><p>在本文写作时，阿里云的免费试用已经升级为了 4C4G 的机型，在运行 Windows Server 操作系统的情况下搭建 Minecraft 服务器的性能较为充足（在 1C2G 的情况下依靠虚拟内存依旧可以勉强运行），如果对 Linux 的了解不足，此时 Windows Server 显然是好的选择。然而，在开始上云时，阿里云提供的免费试用依然为 2C2G 机型，为了确保服务器的流畅运行，只能选择 Linux 机型。</p>\n<p>出于节省内存和易于维护的综合考量，最终选择了 Alibaba Cloud OS 3.0。</p>\n<h2 id=\"操作流程\"><a href=\"#操作流程\" class=\"headerlink\" title=\"操作流程\"></a>操作流程</h2><p>当云服务器实例创建后，先修改服务器密码，后将本地的服务器目录通过 SFTP 上传至服务端。为了方便管理，新建了新的账号来替代 root 账户运行服务器。</p>\n<p>作为 Alibaba Cloud OS，软件仓库内包含 Dragonwell JDK 便相当自然，通过 dnf 命令即可完成 JDK17 的安装。</p>\n<p>Fabric 服务端安装器为我们生成了一个 start.sh 文件，为其赋予执行权限即可直接运行。</p>\n<p>此外，当服务器成功启动后，需要前往安全组打开 TCP 的 25565 和 UDP 的 19132 端口，以便可以正常从外部连接。在服务器运行的过程中，发现了一些异常的 IP 地址尝试连接，可通过安全组设置拒绝入站。</p>\n<p>最后，不要忘记打开系统的虚拟内存功能，否则内存用尽时会直接卡死，只能强制重启。</p>\n<p>从此，一个 Minecraft 就成功迁移至云上了。</p>\n<h2 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h2><p>当本文完成时，自己的 Linux 云服务器也已经到期，服务器迁移到了 Windows Server 上。本文是基于本地已有的 Minecraft Server，因而迁移也较为简单，平日内更新服务器 Mods 也只需通过 rm -rf 和 wget 命令进行操作。对于最难的服务器配置阶段，实际上是在 Windows 设备上完成的。将前后两个服务器比较，当资源有限时，Linux 服务器是更优的选择，而服务器迁移回 Windows Server 后，从基岩端连接的体验出现了显著的下降。</p>\n","excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>春去秋来，自己的 Minecraft 服务器已在不知不觉中运行了近七年。然而，服务器依然是依靠家用计算机，并无法具备全天运行的条件，且由于网络原因，必须依靠第三方应用才能使用，这就导致了不稳定性。而使用云服务器的条件也渐渐成熟，故在今年做出了将服务器迁移到云上的决定。</p>\n<h2 id=\"服务商的选择\"><a href=\"#服务商的选择\" class=\"headerlink\" title=\"服务商的选择\"></a>服务商的选择</h2><p>对于几大云服务商，自己采用了阿里云。阿里云提供三个月的免费试用，且对于学生，阿里云也提供数月的免费云服务器，对于刚刚接触云服务器的自己，这显然是一个较好的选择。</p>\n<h2 id=\"操作系统的选择\"><a href=\"#操作系统的选择\" class=\"headerlink\" title=\"操作系统的选择\"></a>操作系统的选择</h2><p>在本文写作时，阿里云的免费试用已经升级为了 4C4G 的机型，在运行 Windows Server 操作系统的情况下搭建 Minecraft 服务器的性能较为充足（在 1C2G 的情况下依靠虚拟内存依旧可以勉强运行），如果对 Linux 的了解不足，此时 Windows Server 显然是好的选择。然而，在开始上云时，阿里云提供的免费试用依然为 2C2G 机型，为了确保服务器的流畅运行，只能选择 Linux 机型。</p>\n<p>出于节省内存和易于维护的综合考量，最终选择了 Alibaba Cloud OS 3.0。</p>\n<h2 id=\"操作流程\"><a href=\"#操作流程\" class=\"headerlink\" title=\"操作流程\"></a>操作流程</h2><p>当云服务器实例创建后，先修改服务器密码，后将本地的服务器目录通过 SFTP 上传至服务端。为了方便管理，新建了新的账号来替代 root 账户运行服务器。</p>\n<p>作为 Alibaba Cloud OS，软件仓库内包含 Dragonwell JDK 便相当自然，通过 dnf 命令即可完成 JDK17 的安装。</p>\n<p>Fabric 服务端安装器为我们生成了一个 start.sh 文件，为其赋予执行权限即可直接运行。</p>\n<p>此外，当服务器成功启动后，需要前往安全组打开 TCP 的 25565 和 UDP 的 19132 端口，以便可以正常从外部连接。在服务器运行的过程中，发现了一些异常的 IP 地址尝试连接，可通过安全组设置拒绝入站。</p>\n<p>最后，不要忘记打开系统的虚拟内存功能，否则内存用尽时会直接卡死，只能强制重启。</p>\n<p>从此，一个 Minecraft 就成功迁移至云上了。</p>\n<h2 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h2><p>当本文完成时，自己的 Linux 云服务器也已经到期，服务器迁移到了 Windows Server 上。本文是基于本地已有的 Minecraft Server，因而迁移也较为简单，平日内更新服务器 Mods 也只需通过 rm -rf 和 wget 命令进行操作。对于最难的服务器配置阶段，实际上是在 Windows 设备上完成的。将前后两个服务器比较，当资源有限时，Linux 服务器是更优的选择，而服务器迁移回 Windows Server 后，从基岩端连接的体验出现了显著的下降。</p>\n","path":"2023/12/01/云上的-Minecraft-服务器-服务器上云记录/","permalink":"https://mybluehorizon.github.io/blog/2023/12/01/%E4%BA%91%E4%B8%8A%E7%9A%84-Minecraft-%E6%9C%8D%E5%8A%A1%E5%99%A8-%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E4%BA%91%E8%AE%B0%E5%BD%95/","tags":[{"name":"技术","_id":"cltfv7psp0008kzpo6foaaofd","slug":"技术","path":"tags/技术/","permalink":"https://mybluehorizon.github.io/blog/tags/%E6%8A%80%E6%9C%AF/","length":3},{"name":"Minecraft","_id":"cltfv7psq000akzpo731qfgj4","slug":"Minecraft","path":"tags/Minecraft/","permalink":"https://mybluehorizon.github.io/blog/tags/Minecraft/","length":2},{"name":"服务器","_id":"cltfv7psq000bkzpo76nv729u","slug":"服务器","path":"tags/服务器/","permalink":"https://mybluehorizon.github.io/blog/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/","length":2},{"name":"游戏","_id":"cltfv7psr000ckzpo8ibq59rk","slug":"游戏","path":"tags/游戏/","permalink":"https://mybluehorizon.github.io/blog/tags/%E6%B8%B8%E6%88%8F/","length":2}],"categories":[],"prev":{"title":"2023 年终总结","date":"2024-01-10T04:00:00.000Z","slug":"2023-年终总结","published":true,"updated":"2024-03-06T13:59:07.551Z","_id":"cltfv7psc0001kzpo7ixj8db3","layout":"post","photos":[],"excerpt":"","path":"2024/01/10/2023-年终总结/","permalink":"https://mybluehorizon.github.io/blog/2024/01/10/2023-%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/","__post":true},"next":{"title":"Minecraft 1.20 互通服务器搭建记录","date":"2023-06-13T12:27:10.000Z","slug":"Minecraft-1-20-互通服务器搭建记录","published":true,"updated":"2024-03-06T13:59:07.555Z","_id":"cltfv7psh0003kzpo2t294a6t","layout":"post","photos":[],"excerpt":"","path":"2023/06/13/Minecraft-1-20-互通服务器搭建记录/","permalink":"https://mybluehorizon.github.io/blog/2023/06/13/Minecraft-1-20-%E4%BA%92%E9%80%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/","__post":true},"__post":true}